====================================================================================================
Disciples of Philip Rivers (http://doprleague.info) site CHANGELOG
Created: 2013-09-25 by Kyle Kerley (kyle.l.kerley@gmail.com | http://kkerley.com)
====================================================================================================


Version 2.5.34 [2014/06/05]
--------------------------------------------------
- Added Facebook-style page title count for messages


Version 2.5.33 [2014/06/05]
--------------------------------------------------
- Added "500" option to players#index per-page amounts since returning the full list via blank search isn't possible
- Removed tooltip over the search button


Version 2.5.32 [2014/06/05]
--------------------------------------------------
- Added Haml gem for eventual sitewide rewrite of views
- Added smart_listing gem for much improved Ajax sorting/displaying of players
- Removed default_scope from players (for smart_listing to function properly)
- Switched to kaminari for all pagination
- Moved "Directory" link under "Members" to the very bottom


Version 2.5.31 [2014/06/01]
--------------------------------------------------
- Added Standings to Admin page
- Created admin controller to remove the admin code from features_controller
- Added Facebook poll images to admin page
- Changed the player position buttons to be responsive on players#index
- Reordered the queries for players#index to improve loading speed by over 5x


Version 2.5.30 [2014/05/28]
--------------------------------------------------
- Added "roster breakdown by bye week" table to teams#show
- Changed size of buttons on players#index to be smaller and not break on mobile
- Updated the Members nav dropdown with dividers and headers
- Broke up the League info dropdown with dividers and headers
- Added a divider between the team-related links in that dropdown and the log out link
- Added bye week to nfl_teams#show
- Added team logo next to Super Bowl pick in the GM actions panel
- Made users' actual names smaller in dropdown nav and in the various "The League" panels


Version 2.5.29 [2014/05/28]
--------------------------------------------------
- Made a number of tables responsive
- Updated budgets#index to follow current design guidelines
- Updated budgets#show to not have the "edit" link visible to non-admins


Version 2.5.28 [2014/05/27]
--------------------------------------------------
- Added public_activity to nfl_teams#import and nfl_teams#update


Version 2.5.27 [2014/05/27]
--------------------------------------------------
- Added team logo next to player's names in the Roster breakdown by position box on teams#show
- Added action to export NFL teams to .csv


Version 2.5.26 [2014/05/27]
--------------------------------------------------
- Fixed issue on nfl_teams#index that prevented the AFC/NFC rows from showing for users not logged in
- Fixed the bottom rows of the roster on teams#show to lineup correctly after adding the new columns for team logo and bye


Version 2.5.25 [2014/05/26]
--------------------------------------------------
- Added toolbar links to inbox, sentbox and trash on teams#show when in any of those three views
- Font changes to various tabs on teams#show
- Added panel for the draft rosters tab on teams#show
- Added panel for the three mailboxer tabs on teams#show
- Added striped rows to the payouts tab table on teams#show
- Added NFL teams to the navigation dropdown
- Updated views for nfl_teams#show, #index and #edit
- Added column on teams#show for player's team logo
- Added column on players#index for player's team logo
- Added player's team logo on players#show
- Reordered columns on players#index
- Made super_bowls#show trophy image responsive
- Adjusted the look of the inbox, sentbox and trash on teams#show
- Added ability to search by NFL team shorthand for players
- Updated search box verbiage to reflect new search criteria


Version 2.5.24 [2014/05/25]
--------------------------------------------------
- Fixed issues with viewing buyouts, extensions, franchises and extensions + franchises
- Removed link to the above-mentioned #show pages if the count was 0
- Added a link in the Contracts key to view all contracts + the total count of contracts


Version 2.5.23 [2014/05/21]
--------------------------------------------------
- Added link to player's NFL team on players#index if a player has an nfl_team shorthand attribute


Version 2.5.22 [2014/05/21]
--------------------------------------------------
- Overhauled nfl_teams#show to make it look similar to players#show
- Uploaded the teams to the site to pull in the correct players for each


Version 2.5.21 [2014/05/21]
--------------------------------------------------
- Fixed the Constitution page to not be fully expanded by default. This (and Polls and FAQs may change in the future)


Version 2.5.20 [2014/05/21]
--------------------------------------------------
- Fixed a few incorrect variable calls on super_bowls#show that would cause site failures after the year change


Version 2.5.19 [2014/05/20]
--------------------------------------------------
- Changed the layout for announcements, polls, constitution and FAQs on the Admin page to be table-based
- Removed CSS causing the Super Bowls tab on Admin to show when Announcements first load
- Made the table on super_bowls#index responsive
- Made tables on standings#index responsive
- Hid the pie chart on teams#show#payouts for small and extra-small devices
- Made all of the tables of content on the Admin page responsive
- Added Font Awesome ticket icon to the GM actions panel


Version 2.5.18 [2014/05/19]
--------------------------------------------------
- Removed the button to add a new standings record from standings#index
- Removed the button to add a new salary progression from salary_progressions#index
- Removed the edit button/column from the salary_progressions#index table
- Removed the button for a new Super Bowl from super_bowls#index and put it on the Admin page
- Fixed up the Super Bowls form
- Added a tab to the Admin page for managing Super Bowls
- Changed the layout of the Members tab on the Admin page
- Code convention changes throughout the views (:class => to class:, etc)
- Made some necessary model methods to remove logic from super_bowl views
- Completely changed the super_bowls#index view to look more like the Admin view of them
- Fixed issue with the Super Bowl pick remote form not refreshing correctly
- Added "GM Actions" panel to super_bowls#index containing the link to submit a pick for the current super bowl if none is submitted yet


Version 2.5.17 [2014/05/18]
--------------------------------------------------
- Added position next to player name in the GM actions panel on teams#show
- Added contract icons to players#show
- Adjusted some spacing on players#show 


Version 2.5.16 [2014/05/18]
--------------------------------------------------
- Fixed issue with mobile (iPhone) rendering on players#show


Version 2.5.15 [2014/05/18]
--------------------------------------------------
- Added necessary check to ensure that only admins can see "Add a contract for <player>" on players#show
- Added current auction value for player on players#show if player is a free agent


Version 2.5.14 [2014/05/18]
--------------------------------------------------
- Added pagination to contracts#index
- Fixed rendering issue on players#show
- Added salary_progression to players#show 
- Prettied up contracts#show
- Added $ to all salary_progression values for non-admin views


Version 2.5.13 [2014/05/18]
--------------------------------------------------
- Fixed the import logic for players and salaray_progressions to redirect to the Admin page if no file is selected before hitting the "Import" button
- Changed the icon for destroyed and updated items in the activity feed


Version 2.5.12 [2014/05/18]
--------------------------------------------------
- Caught a few more style updates needed on teams#show
- Updated the look of public_activity entries for real this time
- Moved the salary progressions upload form from salary_progressions#index to the Admin page
- Fixed a few incorrect links on the Admin page
- Changed the width of the global search to not break the layout in iPad portrait mode


Version 2.5.11 [2014/05/18]
--------------------------------------------------
- Changed some CSS classes for better mobile display (players#index, players#show)
- Changed the style of the global, all and free agents search boxes
- Changed the global search's tooltip content
- Added activity timestamp to every activity in the feed
- Updated the look of public_activity entries
- Added icons for "The League" boxes throughout the site
- Added icons throughout the site on each page corresponding to the content's icon in the menus
- Added user avatars to standings#index 
- Changed the style of the contracts key partial


Version 2.5.10 [2014/05/17]
--------------------------------------------------
- Added count of unread inbox items next to "Inbox" in the Mailbox dropdown on teams#show
- Moved the upload form from players#index to a new tab on the Admin page
- Cleaned up some poor code on the Admin and players#index pages
- Changed the global search button color to green
- Removed the admin toolbar from every page and put it on the Admin page only
- Reorganized the Admin page and made fonts bigger
- Changed the edit/delete links on players#index to match the same styles found on draft_rosters#index
- Removed the top pagination links on players#index to try to reduce the clutter
- Changed the way pagination works; for "All" players, 50 records per page. For position filters, it shows them all
- Fixed up the Free Agents view
- Added simple sorting to the players#index and players#free_agents tables; future refinement will be necessary
- Upgraded to Font Awesome 4.1


Version 2.5.9 [2014/05/16]
--------------------------------------------------
- Fixed logic for calculating cost of franchising a player in the GM Actions tab on teams#show to account for extended contracts
- Added ability to search for players by auction_value
- Added indices to first_name, last_name, position and auction_value for players
- Made the placeholder text in the players#index search box more helpful
- Removed the words "edit" and "delete" from next to their respetive icons on players#index for admins
- Removed Bootstrap theme
- Touched up the admin interface some
- Added 1em of space between the bottom of the page headline on all pages


Version 2.5.8 [2014/05/13]
--------------------------------------------------
- Added content to display if there are no messages in the inbox, sentbox or trash
- Added <hr /> below the title of each mailbox view


Version 2.5.7 [2014/05/13]
--------------------------------------------------
- Added public_activity tracking to the Player model


Version 2.5.6 [2014/05/13]
--------------------------------------------------
- Changed the style of unread messages in the inbox


Version 2.5.5 [2014/05/13]
--------------------------------------------------
- Added default style for notifications (gray with a 0) so that it's always there in the nav
- Made the styling logic on conversations#show more efficient
- Updated verbiage of global search button's tooltip
- Changed the style of the import box on players#index
- Removed the unnecessary panel garbage from around the search box on players#index
- Added placeholder text to the search box on players#index
- Reordered the "League info" dropdown


Version 2.5.4 [2014/05/12]
--------------------------------------------------
- Prettied up the login form


Version 2.5.3 [2014/05/12]
--------------------------------------------------
- Cleaned up the sign in page
- Made the full salary progressions chart responsive


Version 2.5.2 [2014/05/12]
--------------------------------------------------
- Fixed the Draft Rosters tab showing for everyone on teams#show


Version 2.5.1 [2014/05/11]
--------------------------------------------------
- Fixed an issue with the mailboxer initializer attemping to send emails to notify message recipients of a new message
- Changed the redirect after sending a new message to go to the teams#show inbox tab


Version 2.5 [2014/05/11]
--------------------------------------------------
- Upgraded to Rails 3.2.18
- Added mailboxer gem to handle User inboxes
- Moved mailbox from the root page to teams#show
- Added "Draft Rosters" tab to Team#show
- Changed top nav to show all user-related links as a dropdown list under User avatar
- Updated layout of Draft Rosters
- Added simple JKS function that will go to a specific tab when using the Bootstrap tabs
- Added dropdown to the Mailbox tab on teams#show to access full mailbox from this page
- Added code necessary to mark conversations as read
- Added unread conversation count + badge to the dropdown menu
- Added total # of messages in a conversation to the inbox/sent/trash views
- Added a tooltip to the global search button to remind that A BLANK SEARCH WILL RETURN THE MASTER LIST OF PLAYERS
- Prettied up the conversations#show view; made it look more conversation-like


Version 2.4 [2014/04/23]
--------------------------------------------------
- Added public_activity gem to track site activity
- Tracking features (aka Announcements, FAQs, Articles of the Constitution, Facebook Polls) and contracts
- Added tabs for Announcements and Site Activity on root
- Added $ to each column on salary_progressions#index
- Added hover functionality to salary_progressions#index table to make it easier to see where you are
- Added pagination for site updates on the root page
- Made date/timestamps more readable for Announcements
- Changed icon for the roster breakdown by position as it was the same as the one for Facebook polls
- Changed layout of "The League" panel to better match how it's handled in the dropdown menu
- Changed the page title/subtitle layout and edited most of the subtitles to be less verbose and annoying


Version 2.3.3 [2014/04/21]
--------------------------------------------------
- Added placeholders for CSS @media queries to fix iPad issues
- Removed <hr /> under page title/subtitle to make it a little less cluttered
- Changed look of GM actions panel
- Added a few icons on the teams#show page
- Changed almost all panel groups to default (gray) to make it look less cartoony
- Modified main navigation behavior for various screen sizes
- Changed the roster to only go out current year + 4 to make it less cluttered
- Added a link to "View entire roster" for the future (plan to make it extend out 19 years past current year to show full roster)


Version 2.3.2 [2014/04/15]
--------------------------------------------------
- Added tabs to the teams#show view to help clean it up some
- Added "GM actions" panel to teams#show that shows players eligible for extending and franchising (phase 1 of this panel)
- Fixed amCharts issue with JS-powered tabs


Version 2.3.1.1 [2014/04/08]
--------------------------------------------------
- Added pagination links to the bottom of the players#index table


Version 2.3.1 [2014/04/08]
--------------------------------------------------
- Added will_paginate gem for use on players#index
- Changed Player default ordering from salary/contract value to last_name
- Prettied up the draft roster popup window on players#index
- Cleaned up admin page some. More to be done here. Lots more.
- Added "delete" functionality to draft_rosters#show to remove unwanted players


Version 2.3 [2014/04/05]
--------------------------------------------------
- Added Budget model and created 50 years' worth for each team
- Budgets and remainder have been added to the roster table as rows underneath salary totals
- Adjusted routes to make budgets nested to teams
- Added Event model for calendar events
- Global events (for all people; i.e. draft day, payments due, etc) and personal events (i.e. "check in with Eli on that trade") are implemented
- Moved all CSS calls in the <head> into application.css
- Created SuperBowl model 
- Created SuperBowlPick model
- Created NflTeam model mostly for the SuperBowl and SuperBowlPick models and associated logic, but could also be handy for showing players for informational purposes
- Moved a lot of code from the teams#show view into the controller where it belongs. Still room to DRY that up later
- Added ModifiedCurrentYear module to application_controller.rb and now things seem to be working better
- Added friendly_id back for use with Super Bowls (friendly_id :year)
- Cleaned up super_bowls#index
- Added a favicon
- Upgraded to Bootstrap 3.1.1
- Upgraded to Rails 3.2.17
- Moved amCharts script from custom.js to teams.js.coffee
- Redid draft_rosters popover correctly
- Changed login errors to be :alert instead of :notice for proper styling
- Added formbuilder helper to more easily style forms
- Moved seed function for creating budgets to the Team model as an after_create function
- Switched to Devise because, unlike Sorcery, it actually works
- Added checks for file presence on all import actions


Version 2.2.3 [2014/02/10]
--------------------------------------------------
- Added a link to current_user's team page in the top nav
- Changed the icons of the boxes for franchising and extension boxes to be their respective icons
- Added total contract cost to both the players#show and contracts#show views


Version 2.2.2 [2014/02/09]
--------------------------------------------------
- Updated "Worst Record" payout amount in Payout controller for the forms going forward
- Added "Total" row to the Payouts#index tables to show how much has been paid out
- Added auction value to the teams#show roster table
- Added logic to make the current contract blue on players#show


Version 2.2.1 [2014/02/09]
--------------------------------------------------
- Re-enabled the docs.min.css file
- Updated verbiage in the franchise box on players#show


Version 2.2 [2014/02/08]
--------------------------------------------------
- Added role to User class
- Added cancan gem for user role authentication
- Updated all views and controllers to reflect new roles permissions
- Gave users ability to update their own profile (to an extent)
- Fixed anchor links on Constitution, Facebook polls, FAQs and team directory pages
- Changed layout of Constitution, Facebook polls, FAQs to use the accordion widget
- Adjusted the users#index (/members) payouts tables to be condensed
- Overrode as_json for User to dump out display_name and total_winnings for use with amCharts
- Added gon gem to better manage data in JavaScript
- Moved NFL Players to the end of the navigation, before Admin Login 
- Added NFL Players Free Agent view and associated search logic
- Updated the existing NFL players filters to accomodate both "all" and "Free Agents" without duplicating code
- Changed logic for franchising (based on auction value regardless of an existing contract)
- Added this_is_a_buyout boolean to Contract to better manage the buyout subcontracts (just like with extensions and buyouts)
- Added counts of buyouts, extensions, franchises and extensions & franchises to Contract views as helpers
- Added views for buyouts, extensions, franchises and extensions & franchises
- Added donut chart to teams#show page showing breakdown of payouts
- Brought back "The League" panel to the root page, users#index and teams#show on medium devices
- Properly nested contracts/subcontracts on players#edit but subcontracts details won't update for some reason. This is fine. Contracts shouldn't be edited from there anyway
- Added search box to the global nav so players can be searched for anywhere


Version 2.1.3 [2014/01/16]
--------------------------------------------------
- Changed colors of sidebars on the Constitution, Polls and FAQs pages
- Removed the "Home" link from the nav as it was redundant
- Applied some formatting to the "The League" breakout box
- Various minor CSS adjustmeents
- Added links to the players in the players-per-position breakout table on teams#show


Version 2.1.2 [2014/01/16]
--------------------------------------------------
- Made a number of UX updates throughout
- Added icon for bought-out contracts on players#show, teams#show and contracts#index
- Added bootstrap-extras.css to the site to gain access to some additional styles they use 
- Cleaned up some old, outdated code with the payouts tables; made that more DRY


Version 2.1.1 [2014/01/15]
--------------------------------------------------
- Fixed code in teams#show to properly display bought-out contracts and not through a 500 error
- Added "for the xxxx season" to the sentence above the roster breakdown by position on the teams#show page


Version 2.1 [2014/01/15]
--------------------------------------------------
- Upgraded to Rails 3.2.16 for security purposes
- Modified a lot of code to function properly after testing for unlikely scenarios and discovering holes in the existing logic
- Updated current_year to reflect the league's "fiscal" year from 8/1-7/31 every year
- Created migration to wipe SalaryProgression table and recreate it to go out to 20 years. Necessary due to logic for pulling salaries when subcontracts are created.
- Changed bought-out contracts to appear in the same yellow styling on the players#show page as their row on the teams#show page
- Created current_contract method on Player to make it easier to get the live contract
- Added full_contract_length to calculate total contract length incorporating extensions and franchise tags
- Added this_is_an_extension and this_is_a_franchise_tag to Subcontracts to allow for styling them on rosters and to keep better track of them
- Added visual cues to contracts#index and contracts#show
- Added clearer verbiage to contracts#index
- Added breakdown table to teams#show outlining which and how many players of each position are on each team
- Added button link to the contract for signed players on players#index
- Added nav_link helper file for (hopefully) future use
- Moved current_year to a module (still has to be in subcontract.rb due to self)


Version 2.0.3 [2014/01/11]
--------------------------------------------------
- Wrote a new method for sorting the players#index action by checking to see if a player is contracted and, if so, returning this year's amount; otherwise, it goes by the player's auction value
- Used same logic for determining franchise value
- Added Top 5 Players information to the players#show action to always have the top 5 players of a position + averaged salary so users can see what franchising would cost currently
- Removed blue class from the "All" search button for the time being; working with a plugin to make the active filter blue


Version 2.0.2 [2014/01/11]
--------------------------------------------------
- Changed verbiage on the contrats#index page
- Added logic to not show the "delete" option on the contracts#index page to non-admin users


Version 2.0.1 [2014/01/10]
--------------------------------------------------
- Fixed Salary Progression table bottom row (admin only)
- Added "Delete" action to players#index to remove dupes
- Added link to add new Standing on standings#index


Version 2.0 [2014/01/10]
--------------------------------------------------
Insane number of changes; as many that can be remembered have been listed below
- Added Contracts/Subcontracts for roster management
- Built necessary logic to create long-term player contracts using Players, Salary Progressions, Contracts and Subcontracts
- Built necessary logic to only show current (Sub)Contracts on Team#show 
- Built necessary logic to successfully buyout active (Sub)Contracts while allowing another team to pick up said player and sign them to a deal
- Built necessary logic to extend a contract
- Built necessary logic to franchise a contract
- Expanded SalaryProgressions using the formula for calculating them
- Expanded SalaryProgessions to go out to 7 years
- Changed the players#index view to show less, but the most important information
- Changed players#show view to contain all Contract/Subcontract information
- Changed players#edit view to contain all Contract/Subcontract information for editing
- Made views more DRY by moving the page headline/sub-headline into the application.html.erb layout and pass the values via content_for statements
- Added necessary current_user security for all controllers
- Changed out all icons to be Font Awesome rather than the extremely limited selections of Glyphicons included in Twitter Bootstrap
- Enabled Twitter Bootstrap theme to give the site some more visual weight
- Reorganized the top nav
- Condensed the Admin Control Bar
- Made numerous adjustments to make the mobile version of the site cleaner/more user-friendly
- Made numerous adjustments to text styles throughout the site to be more consistent
- Added "division" field to Team
- Split up master list of users on a few pages into division groups
- Added Standings and TeamRecords to keep tracking of all-time league standings


Version 1.3.3 [2013/12/01]
--------------------------------------------------
- Incrased width of the homepage_order number field on the Feature form
- Fixed incorrect link on the Admin page


Version 1.3.2 [2013/12/01]
--------------------------------------------------
- Removed the full member list from the Team show page on medium resolution devices


Version 1.3.1 [2013/12/01]
--------------------------------------------------
- Made a number of updates for the mobile layout of the site


Version 1.3 [2013/11/30]
--------------------------------------------------
- Added Player data model
- Incorporated Postgresql's out-of-the-box full-text search into the Player model
- Added ability to import/export CSV and XLS files (players only at the moment)
- Numerous admin-only updates
- Fixed issue with Admin show/hide Javascript not working by renaming classes from "hidden" to "hidden-content" and setting display: none; as the default
- Added logic to auto-fill award names/values 
- Redid the Constitution page's styling/layout moderately
- Redid the Homepage's styling/layout moderately
- LOTS of little verbiage updates throughout
- Prettied up the NFL player form
- Changed the Members dropdown to redirect to the member's team page instead of their spot on the Members index page
- Redid the Team show page to pull in pertinent owner information along with roster
- Added best_in_place logic to the Payouts index page to edit awards right there in place


Version 1.2 [2013/10/12]
--------------------------------------------------
- Added Salary Progressions data model to keep track of player salary values up through year 5 of a contract
- Changed the global nav to have the salary progressions link under "Bylaws"
- Changed "Bylaws" icon
- Changed "Constitution" icon
- Default scope of Salary Progressions is auction_value ascending


Version 1.1.1 [2013/10/10]
--------------------------------------------------
- Changed top nav to include a login link if not logged in
- Updated newrelic.yml
- Added admin control bar to the FB poll page


Version 1.1 [2013/10/06]
--------------------------------------------------
- Fixed Members page layout to show avatars without breaking the page layout


Version 1.1 [2013/10/06]
--------------------------------------------------
- Added picture fields back to the Features form
- Added "Poll" option to the Feature Type dropdown
- Alphabetized the options in the Feature Type dropdown
- Added "Polls" page to the site
- Created a new "Rules" dropdown menu option that contains "Constitution" and "Polls"
- Changed icon for "Constitution" menu listing
- Added required logic to find all Features with type "Poll"
- Changed "Members" to be a dropdown that leads to each user's breakout box (preliminary work for after rosters and contracts are added)
- Added avatars to User model
- Updated Payouts page to include a column for the award winner
- Cleaned up unnecessary scopes and other commented-out legacy code from Feature.rb
- Groundwork for Capistrano deployments added
- Added author to the byline for announcements by pulling the current_user ID before creation of the record


Version 1.0.1 [2013/09/28]
--------------------------------------------------
- Adjusted the CSS style for unpublished items' badges on the Admin page.
- Adjusted the code for the user management edit and delete buttons so they line up correctly with the rest of the row


!!starting the changelog with 1.0 despite numerous pre-1.0 release cycles!!

Version 1.0 [2013/09/25]
--------------------------------------------------
- Converted Payouts index page to use tables like the Members awards breakouts do
- Added “top” anchor link as the first thing inside of the <body> tag for anchor links sitewide
- Added “Back to top” anchor links on the Members index, Constitution, and FAQs pages
- Added link to this file in the footer
- Added lifetime winnings total to the right-hand nav on the Members page

